function setCustomExpensePayer(e){paidByRadioBtns.forEach(function(t){t.id.includes(e)&&(t.checked=!0)})}function editCustomeExpense(e){var t=customExpenseItems.filter(function(t){return t.keyId===e});customExpenseTitle.value=t[0].feeDescription,t[0].paidBySeller?customExpenseValue.value=t[0].paidBySeller.toLocaleString("en-US",{maximumFractionDigits:0,minimumFractionDigits:0}):t[0].paidByBuyer?customExpenseValue.value=t[0].paidByBuyer.toLocaleString("en-US",{maximumFractionDigits:0,minimumFractionDigits:0}):t[0].paidByOwner&&(customExpenseValue.value=t[0].paidByOwner.toLocaleString("en-US",{maximumFractionDigits:0,minimumFractionDigits:0})),paidByRadioBtns.forEach(function(e){e.id===t[0].paidBy&&(e.checked=!0)}),customExpenseForm.classList.add("update-form"),customExpenseForm.setAttribute("data-key",t[0].keyId),customExpenseForm.style.display="block",calculateAllCosts()}function deleteCustomeExpense(e){customExpenseItems=customExpenseItems.filter(function(t){return t.keyId!==e}),renderCustomExpenses(customExpenseItems),renderCustomExpenseControl(customExpenseItems),calculateAllCosts()}function renderExpense(e){var t="";e.paidBySeller&&e.paidByBuyer?t=`<div class="cost-group__cost ${e.keyId}">\n<div class="cost-group__title-wrapper">\n<div class="cost-group__cost-title">${e.feeDescription}</div>\n</div>\n<div class="cost-group__cost-wrapper seller">\n<div class="cost-group__cost-amount seller-cost-wrapper">$<span class="seller-cost">${e.paidBySeller.toLocaleString("en-US",{maximumFractionDigits:0,minimumFractionDigits:0})}</span></div>\n</div>\n<div class="cost-group__cost-wrapper buyer">\n<div class="cost-group__cost-amount buyer-cost-wrapper">$<span class="buyer-cost">${e.paidByBuyer.toLocaleString("en-US",{maximumFractionDigits:0,minimumFractionDigits:0})}</span></div>\n</div>\n</div>`:e.paidBySeller?t=`<div class="cost-group__cost ${e.keyId}">\n<div class="cost-group__title-wrapper">\n<div class="cost-group__cost-title">${e.feeDescription}</div>\n</div>\n<div class="cost-group__cost-wrapper seller">\n<div class="cost-group__cost-amount seller-cost-wrapper">$<span class="seller-cost">${e.paidBySeller.toLocaleString("en-US",{maximumFractionDigits:0,minimumFractionDigits:0})}</span></div>\n</div>\n<div class="cost-group__cost-wrapper buyer">\n<div class="cost-group__cost-amount buyer-cost-wrapper">$0</div>\n</div>\n</div>`:e.paidByBuyer?t=`<div class="cost-group__cost ${e.keyId}">\n<div class="cost-group__title-wrapper">\n<div class="cost-group__cost-title">${e.feeDescription}</div>\n</div>\n<div class="cost-group__cost-wrapper seller">\n<div class="cost-group__cost-amount seller-cost-wrapper">$0</div>\n</div>\n<div class="cost-group__cost-wrapper buyer">\n<div class="cost-group__cost-amount buyer-cost-wrapper">$<span class="buyer-cost">${e.paidByBuyer.toLocaleString("en-US",{maximumFractionDigits:0,minimumFractionDigits:0})}</span></div>\n</div>\n</div>`:e.paidByOwner&&(t=`<div class="cost-group__cost ${e.keyId}">\n<div class="cost-group__title-wrapper">\n<div class="cost-group__cost-title">${e.feeDescription}</div>\n</div>            \n<div class="cost-group__cost-wrapper owner block">\n<div class="cost-group__cost-amount owner-cost-wrapper">$<span class="owner-cost">${e.paidByOwner.toLocaleString("en-US",{maximumFractionDigits:0,minimumFractionDigits:0})}</span></div>\n</div>\n</div>`);var n=document.querySelector(e.targetClass),o=document.createElement("div");o.innerHTML=t,n.appendChild(o)}function renderCustomExpenses(e){customCostsResults.innerHTML="",e.forEach(function(e){renderExpense(e)})}function renderCustomExpenseControl(e){customCostsControlOutput.innerHTML="",e.length>0?customCostsControlsContainer.style.display="block":0===e.length&&(customCostsControlsContainer.style.display="none"),e.forEach(function(e){var t="";e.paidBySeller?t=`<div class="custom-expenses-form-control-item" id="${e.keyId}">\n  <div class="custom-expenses-title">${e.feeDescription}</div>\n  <div class="custom-expenses-amount">$${e.paidBySeller.toLocaleString("en-US",{maximumFractionDigits:0,minimumFractionDigits:0})}</div>\n  <div class="custom-expenses-amount">--</div>\n  <div class="aligner">\n  <a onclick="editCustomeExpense('${e.keyId}')" class="custom-expenses-edit w-inline-block"><img src="https://uploads-ssl.webflow.com/60cbe5ccea9fa161ea3e1b9b/60f005acb39a8f5c266b0d65_Edit.svg" loading="lazy" alt="" class="edit-icon"></a>\n  <a onclick="deleteCustomeExpense('${e.keyId}')" class="custom-expenses-delete w-inline-block"><img src="https://uploads-ssl.webflow.com/60cbe5ccea9fa161ea3e1b9b/60f005beb23abeee2a534b56_Delete.svg" loading="lazy" alt="" class="delete-icon"></a>\n  </div>\n  </div>`:e.paidByBuyer?t=`<div class="custom-expenses-form-control-item" id="${e.keyId}">\n  <div class="custom-expenses-title">${e.feeDescription}</div>\n  <div class="custom-expenses-amount">--</div>\n  <div class="custom-expenses-amount">$${e.paidByBuyer.toLocaleString("en-US",{maximumFractionDigits:0,minimumFractionDigits:0})}</div>\n  <div class="aligner">\n  <a onclick="editCustomeExpense('${e.keyId}')" class="custom-expenses-edit w-inline-block"><img src="https://uploads-ssl.webflow.com/60cbe5ccea9fa161ea3e1b9b/60f005acb39a8f5c266b0d65_Edit.svg" loading="lazy" alt="" class="edit-icon"></a>\n  <a onclick="deleteCustomeExpense('${e.keyId}')" class="custom-expenses-delete w-inline-block"><img src="https://uploads-ssl.webflow.com/60cbe5ccea9fa161ea3e1b9b/60f005beb23abeee2a534b56_Delete.svg" loading="lazy" alt="" class="delete-icon"></a>\n  </div>\n  </div>`:e.paidByOwner&&(t=`<div class="custom-expenses-form-control-item" id="${e.keyId}">\n  <div class="custom-expenses-title">${e.feeDescription}</div>\n  <div class="custom-expenses-amount">$${e.paidByOwner.toLocaleString("en-US",{maximumFractionDigits:0,minimumFractionDigits:0})}</div>\n  <div class="aligner">\n  <a onclick="editCustomeExpense('${e.keyId}')" class="custom-expenses-edit w-inline-block"><img src="https://uploads-ssl.webflow.com/60cbe5ccea9fa161ea3e1b9b/60f005acb39a8f5c266b0d65_Edit.svg" loading="lazy" alt="" class="edit-icon"></a>\n  <a onclick="deleteCustomeExpense('${e.keyId}')" class="custom-expenses-delete w-inline-block"><img src="https://uploads-ssl.webflow.com/60cbe5ccea9fa161ea3e1b9b/60f005beb23abeee2a534b56_Delete.svg" loading="lazy" alt="" class="delete-icon"></a>\n  </div>\n  </div>`);var n=document.createElement("div");n.innerHTML=t,customCostsControlOutput.appendChild(n)})}function calculateAllCosts(){var e=document.querySelectorAll(".cost-group__cost-wrapper"),t=0,n=0,o=0;e.forEach(function(e){var s=e.querySelector(".seller-cost"),r=e.querySelector(".buyer-cost"),a=e.querySelector(".owner-cost");s?isNaN(Number(s.textContent.replaceAll(",","")))||(t+=Number(s.textContent.replaceAll(",",""))):r?isNaN(Number(r.textContent.replaceAll(",","")))||(n+=Number(r.textContent.replaceAll(",",""))):a&&(isNaN(Number(a.textContent.replaceAll(",","")))||(o+=Number(a.textContent.replaceAll(",",""))))}),totalSellerCostsEl.textContent=t.toLocaleString("en-US",{maximumFractionDigits:0,minimumFractionDigits:0}),totalBuyerCostsEl.textContent=n.toLocaleString("en-US",{maximumFractionDigits:0,minimumFractionDigits:0}),totalOwnerCostsEl.textContent=o.toLocaleString("en-US",{maximumFractionDigits:0,minimumFractionDigits:0});var s=Number(document.querySelector("#sale-price").value.replaceAll(",",""))-t;netSellerProceedsEl.textContent=s.toLocaleString("en-US",{maximumFractionDigits:0,minimumFractionDigits:0})}window.addEventListener("load",function(){function e(){var e=document.querySelector("#sales-with-mortgage");e.checked=!0,N.disabled=!0,f("disable")}function t(){K.forEach(function(e){e.style.display="flex"})}function n(){Q.forEach(function(e){e.innerHTML="",e.closest(".cost-group__wrapper").style.display="block"})}function o(){Q.forEach(function(e){var t=e.querySelectorAll(".cost-group__cost");t.length?e.closest(".cost-group__wrapper").style.display="flex":e.closest(".cost-group__wrapper").style.display="none"})}function s(){O.forEach(function(e){e.style.display="flex"}),R.forEach(function(e){e.style.display="flex"}),H.forEach(function(e){e.style.display="flex"}),j.forEach(function(e){e.style.display="flex"}),M.forEach(function(e){e.style.display="none"})}function r(){W.forEach(function(e){e.classList.remove("disabled-text")})}function a(e){e&&e.classList.add("download-pdf-active")}function c(e){e&&e.classList.remove("download-pdf-active")}function l(e){return`${e.toLocaleDateString().replace(/[\/\.]/g,"-")}_${e.toLocaleTimeString().replace(/:/g,"-").replace(/[\s\.]/g,"")}`}function i(){Z.style.display="flex",ee.forEach(function(e){e.style.display="block"}),te.forEach(function(e){e.style.display="block",e.style.opacity="0",e.style.pointerEvents="none"}),se.forEach(function(e){e.style.opacity="0"}),ne.style.opacity="0",oe.style.opacity="0"}function u(){Z.style.display="none",ee.forEach(function(e){e.style.opacity="0",setTimeout(function(){e.style.display="none",e.style.opacity="1"},800)}),se.forEach(function(e){e.style.opacity="1"}),te.forEach(function(e){e.style.display="none"}),ne.style.opacity="1",oe.style.opacity="1"}function d(){V.forEach(function(e){e.addEventListener("keypress",function(e){var t=e.target.value;(e.which<48||e.which>57)&&("."===e.key?t.includes(".")&&e.preventDefault():e.preventDefault())})})}function m(){V.forEach(function(e){e.addEventListener("keyup",function(e){var t=e.target.value.replaceAll(",",""),n=e.target.id;if(n.includes("amount")){var o=n.replace("amount","percentage"),s=document.querySelector(`#${o}`);s&&(s.value=Number(t/L.value.replaceAll(",","")*100).toLocaleString("en-US",{maximumFractionDigits:2,minimumFractionDigits:2}))}else if(n.includes("percentage")){o=n.replace("percentage","amount"),s=document.querySelector(`#${o}`);s&&(s.value=Number(L.value.replaceAll(",","")*t/100).toLocaleString("en-US",{maximumFractionDigits:0,minimumFractionDigits:0}))}})})}function p(e){"sales-with-mortgage"===e?(s(),G.classList.remove("for-owner"),customExpenseItems=[],renderCustomExpenses(customExpenseItems),renderCustomExpenseControl(customExpenseItems)):"sales-with-cash"===e?(s(),O.forEach(function(e){e.style.display="none"}),G.classList.remove("for-owner"),customExpenseItems=[],renderCustomExpenses(customExpenseItems),renderCustomExpenseControl(customExpenseItems)):"refinance"===e&&(s(),R.forEach(function(e){e.style.display="none"}),j.forEach(function(e){e.style.display="none"}),H.forEach(function(e){e.style.display="none"}),M.forEach(function(e){e.style.display="flex"}),G.classList.add("for-owner"),customExpenseItems=[],renderCustomExpenses(customExpenseItems),renderCustomExpenseControl(customExpenseItems))}function y(){var e=L.value.replaceAll(",",""),t=I.value.replaceAll(",",""),n=F.value.replaceAll(",","");k.checked?J&&Number(e)>0&&Number(t)>0&&Number(t)<=Number(e)&&Number(n)>=0&&Number(n)<=100?N.disabled=!1:N.disabled=!0:q.checked?J&&Number(e)>0?N.disabled=!1:N.disabled=!0:B.checked&&(J&&Number(t)>0?N.disabled=!1:N.disabled=!0)}function f(e){T.forEach(function(t){var n=t.querySelectorAll("input");n.forEach(function(t){t.disabled="enable"!==e})})}function g(e){var t=_+"/validate-address",n="BdbtnilW4WHxtYLHq5zgUn21YI4hyNzGShfVPwU6kd22cKDKygRdyvLarwGkSR4VTeqmPATvaou",o=new Headers;o.append("Content-Type","application/json"),o.append("X-API-KEY",n);var s={method:"POST",headers:o,body:JSON.stringify(e)},r=new Request(t,s);fetch(r).then(e=>e.json()).then(e=>{fe=e,fe.statusCode?x(fe.message):b()})}function v(e){bUrl=_+"/rates";var t="BdbtnilW4WHxtYLHq5zgUn21YI4hyNzGShfVPwU6kd22cKDKygRdyvLarwGkSR4VTeqmPATvaou",n=new Headers;n.append("Content-Type","application/json"),n.append("X-API-KEY",t);var o={method:"POST",headers:n,body:JSON.stringify(e)};c(Y),i();var s=new Request(bUrl,o);fetch(s).then(e=>{if(e.ok)return e.json();throw new Error("")}).then(e=>{fe=e,h(),C(),u()}).catch(e=>{w(),u()})}function E(){ge=new google.maps.places.Autocomplete(document.getElementById("property-address"),{types:["geocode"],componentRestrictions:{country:["US"]},fields:["adr_address","address_components"]}),ge.addListener("place_changed",S)}function x(e){Ee.style.borderColor="#ED5564",ve.style.color="#ED5564",xe.style.display="block",xe.innerHTML=e||'Sorry, Endpoint is only available in these <a class="property-error-link" href="/licenses#counties">select locations</a>',J=!1,y()}function b(){xe.style.display="none",Ee.style.borderColor="#A2A2A2",ve.style.color="#858585",J=!0,y()}function S(){ye={};var e=ge.getPlace();if(e.address_components){pe.innerHTML=e.adr_address;var t=pe.querySelector(".street-address"),n=pe.querySelector(".locality"),o=pe.querySelector(".region"),s=pe.querySelector(".postal-code");t?(ye.street1=t.textContent,ye.street2=""):(ye.street1="",ye.street2=""),ye.city=n?n.textContent:"",ye.state=o?o.textContent:"",ye.zipCode=s?s.textContent:"";var r=e.address_components.filter(e=>e.long_name.includes("County"));if(r.length?ye.county=r[0].long_name.replace(" County",""):ye.county="",k.checked?ye.transactionType="Sale w/ Mortgage":q.checked?ye.transactionType="Sale/Cash":B.checked&&(ye.transactionType="Refinance"),Ee.blur(),""===ye.street1||""===ye.city||""===ye.state||""===ye.zipCode)return void x("We couldn't find that address. Please enter a street address, city, and state.");g(ye)}else x(),y()}function h(){var e="",t="",n=0,s=0,r=0,c=0;for(const[o,a]of Object.entries(fe)){"Owner's Title Insurance"===o?e=".owners-title-insurance":"Lender's Title Insurance"===o?e=".lenders-title-insurance":"Taxes and other Government Fees Section"===o?e=".taxes-government-fees":"Settlement/Escrow"===o&&(e=".settlement-escrow");for(const[o,i]of Object.entries(a)){t=i.feeDescription;for(const[o,a]of Object.entries(i))if("payments"==o){for(const[e,t]of Object.entries(a))"Seller"==t.feePaidBy?n=t.feeAmount:B.checked&&"Buyer"==t.feePaidBy?r=t.feeAmount:"Buyer"==t.feePaidBy&&(s=t.feeAmount);var l={targetClass:e,feeDescription:t,paidBySeller:n,paidByBuyer:s,paidByOwner:r,keyId:c};renderExpense(l),n=0,s=0,r=0,c++}}}o(),calculateAllCosts(),a(Y)}function w(){be.style.display="flex"}function C(){be.style.display="none"}var _=/webflow/i.test(window.location.hostname)?"https://fee-calculator-service.development.endpointclosing.com":"https://fee-calculator-service.endpointclosing.com",D=document.querySelector(".fee-calculator__results-bottom"),A=document.querySelector(".transaction-type--container"),k=document.querySelector("#sales-with-mortgage"),q=document.querySelector("#sales-with-cash"),B=document.querySelector("#refinance"),L=document.querySelector("#sale-price"),I=document.querySelector("#loan-amount"),F=document.querySelector("#loan-percentage"),N=document.querySelector(".calculate-fees"),$=document.querySelectorAll("#property-form input[type=text]:not(#property-address)"),T=document.querySelectorAll(".form--disabled"),V=document.querySelectorAll(".number-input"),U=document.querySelector(".additional-expense-form"),O=document.querySelectorAll(".hide-for-cash"),P=document.querySelectorAll(".hide-for-cash-form"),R=document.querySelectorAll(".hide-for-refinance"),z=document.querySelectorAll(".hide-for-refinance-form"),H=document.querySelectorAll(".buyer"),j=document.querySelectorAll(".seller"),M=document.querySelectorAll(".owner"),G=document.querySelector(".custom-expenses-form-control"),K=document.querySelectorAll(".base-input"),W=document.querySelectorAll(".disabled-text"),Y=document.querySelector(".download-pdf"),J=!1,X=!1,Q=document.querySelectorAll(".api-fetched-items");Y.addEventListener("click",function(){if(Y.classList.contains("download-pdf-active")){var e=D.cloneNode(!0),t=document.querySelector(".disclaimer-text").cloneNode(!0),n=document.querySelector(".navigation-logo");"anonymous"!==n.crossOrigin&&(n.crossOrigin="*");for(var o=0;o<t.children.length;o++){var s=t.children[o];if("A"===s.tagName){for(var r in s.dataset)"beforebegin"!==r&&"afterbegin"!==r&&"beforeend"!==r&&"afterend"!==r||s.insertAdjacentText(r,s.dataset[r]);s.innerText=s.href}}e.style.padding="0",t.style.marginTop="48px",e.appendChild(t),new window.jspdf.jsPDF({unit:"px",format:"a4"}).html(e,{callback(e){var t=document.createElement("canvas");t.width=372,t.height=80,t.getContext("2d").drawImage(n,0,0,t.width,t.height),e.addImage(t.toDataURL("image/png"),"PNG",32,32,74.5,16).save(`closing-cost_${l(new Date)}.pdf`)},margin:[72,32,32,32],x:0,y:0,width:380,windowWidth:880})}});var Z=document.querySelector(".loading-spinner__container"),ee=document.querySelectorAll(".cost-data__animation-container"),te=document.querySelectorAll(".cost-data-template"),ne=document.querySelector(".additional-expense__wrapper"),oe=document.querySelector(".net-proceeds__wrapper"),se=document.querySelectorAll(".total-cost");V.forEach(function(e){e.addEventListener("keyup",function(e){e.preventDefault();var t=e.target.value.replaceAll(",","");if(t.length>2)if(e.target.id.includes("percentage")){var n=t.indexOf("."),o=parseInt(t,10).toLocaleString("en-US",{maximumFractionDigits:0,minimumFractionDigits:0});-1!==n&&(o+=t.slice(n,n+3)),e.target.value=o}else e.target.value=parseInt(t,10).toLocaleString("en-US",{maximumFractionDigits:0,minimumFractionDigits:0})}),e.addEventListener("blur",function(e){e.preventDefault();var t,n=e.target.value.replaceAll(",","");n.length&&(t=e.target.id.includes("percentage")?parseFloat(n).toLocaleString("en-US",{maximumFractionDigits:2,minimumFractionDigits:2}):parseInt(n,10).toLocaleString("en-US",{maximumFractionDigits:0,minimumFractionDigits:0}),t!==e.target.value&&(e.target.value=t))})}),A.addEventListener("change",function(e){var n=e.target;if(X?X&&("sales-with-mortgage"===n.id?t():"sales-with-cash"===n.id?(t(),P.forEach(function(e){e.style.display="none"})):"refinance"===n.id&&(t(),z.forEach(function(e){e.style.display="none"}))):p(n.id),ye&&ye.street1&&ye.city&&ye.state&&ye.zipCode){"sales-with-mortgage"===n.id?ye.transactionType="Sale w/ Mortgage":"sales-with-cash"===n.id?ye.transactionType="Sale/Cash":"refinance"===n.id&&(ye.transactionType="Refinance");var o={};o.street1=ye.street1,o.street2=ye.street2,o.city=ye.city,o.county=ye.county,o.state=ye.state,o.zipCode=ye.zipcode,o.transactionType=ye.transactionType,g(o)}}),$.forEach(function(e){e.addEventListener("keyup",function(e){y()})}),e(),m(),d();var re=document.querySelectorAll("input[type=text]");re.forEach(function(e){e.addEventListener("focus",function(e){e.target.classList.add("in-focus")}),e.addEventListener("blur",function(e){e.target.classList.remove("in-focus")})});var ae=document.querySelectorAll(".input-amount");L.addEventListener("keyup",function(e){var t=Number(e.target.value.replaceAll(",",""));ae.forEach(function(e){if(Number(e.value.replaceAll(",",""))>0){var n=document.querySelector(`#${e.id.replace("amount","percentage")}`);n&&(n.value=(Number(e.value.replaceAll(",",""))/t*100).toLocaleString("en-US",{maximumFractionDigits:0,minimumFractionDigits:0}))}})}),V.forEach(function(e){e.addEventListener("keyup",function(e){var t=e.target.value,n=e.target.closest(".fee-calculator__input-container"),o=n.querySelector(".fee-calculator__input-label"),s=n.querySelectorAll(".fee-calculator__input"),r=n.querySelector(".form-error");""===t?(o.style.color="#ED5564",s.forEach(function(e){e.style.borderColor="#ED5564"}),r.style.display="block"):(o.style.color="#858585",s.forEach(function(e){e.style.borderColor="#A2A2A2"}),r.style.display="none")})}),V.forEach(function(e){e.addEventListener("paste",function(e){var t=(e.clipboardData||window.clipboardData).getData("text");if(isNaN(Number(t)))e.preventDefault();else{if(!t.includes("-"))return!0;e.preventDefault(),e.target.value=t.replace("-","")}})});var ce=document.querySelectorAll(".additional-expense-form input:not(.closing-date)"),le=[];ce.forEach(function(e){e.addEventListener("keyup",function(e){targetId=e.target.id,targetId.includes("percentage")&&(targetId=targetId.replace("percentage","amount")),targetValue=document.querySelector(`#${targetId}`).value.replaceAll(",","");var t=document.querySelector(`.${targetId} .seller-cost`);targetValue>0&&Number(targetValue)<Number(L.value.replaceAll(",",""))?t.textContent=Number(targetValue).toLocaleString("en-US",{maximumFractionDigits:0,minimumFractionDigits:0}):t.textContent="0",calculateAllCosts()})});var ie=!1,ue=!1,de=!1;ce.forEach(function(e){e.addEventListener("blur",function(e){if(targetId=e.target.id,targetId.includes("percentage")&&(targetId=targetId.replace("percentage","amount")),targetValue=document.querySelector(`#${targetId}`).value.replaceAll(",",""),targetId.includes("listing"))if(ie)if(0===Number(targetValue))le=le.filter(function(e){return"Estimated Listing Agent Commissions"!==e.feeDescription}),ie=!1;else for(var t in le)"Estimated Listing Agent Commissions"===le[t].feeDescription&&(le[t].paidBySeller=Number(targetValue));else Number(targetValue)>0&&(le.push({feeDescription:"Estimated Listing Agent Commissions",paidBySeller:Number(targetValue)}),ie=!0);else if(targetId.includes("selling"))if(ue)if(0===Number(targetValue))le=le.filter(function(e){return"Estimated Selling Agent Commissions"!==e.feeDescription}),ue=!1;else for(var t in le)"Estimated Selling Agent Commissions"===le[t].feeDescription&&(le[t].paidBySeller=Number(targetValue));else Number(targetValue)>0&&(le.push({feeDescription:"Estimated Selling Agent Commissions",paidBySeller:Number(targetValue)}),ue=!0);else if(targetId.includes("current"))if(de)if(0===Number(targetValue))le=le.filter(function(e){return"Current Loan Payoff"!==e.feeDescription}),de=!1;else for(var t in le)"Current Loan Payoff"===le[t].feeDescription&&(le[t].paidBySeller=Number(targetValue));else Number(targetValue)>0&&(le.push({feeDescription:"Current Loan Payoff",paidBySeller:Number(targetValue)}),de=!0)})});var me=document.querySelector(".closing-date");me.addEventListener("blur",function(e){var t=e.target.value,n=e.target.closest(".fee-calculator__input-container"),o=n.querySelector(".fee-calculator__input-label"),s=n.querySelector(".form-error");""===t?(o.style.color="#ED5564",me.style.borderColor="#ED5564",s.style.display="block"):(o.style.color="#858585",me.style.borderColor="#A2A2A2",s.style.display="none")});var pe=document.querySelector(".google-location-info"),ye={},fe={};let ge;var ve=document.querySelector(".property-label"),Ee=document.querySelector("#property-address"),xe=document.querySelector(".property-error");Ee.addEventListener("change",function(){y()}),Ee.addEventListener("blur",function(e){""===e.target.value&&x("Please enter an address"),y()}),Ee.addEventListener("keypress",function(e){if(13==e.which){var t=document.querySelectorAll(".pac-container .pac-item");t.length>0&&(google.maps.event.trigger(e.target,"keydown",{keyCode:40,hasRanOnce:!0}),google.maps.event.trigger(e.target,"keydown",{keyCode:13,hasRanOnce:!0}))}});var be=document.querySelector(".api-call-error"),Se=document.querySelector(".api-call-error__close");Se.addEventListener("click",function(e){be.style.display="none"}),N.addEventListener("click",function(e){e.preventDefault();var t="";k.checked?(t="sales-with-mortgage",ye.transactionType="Sale w/ Mortgage",ye.salesAmount=Number(L.value.replaceAll(",","")),ye.loanAmount=Number(I.value.replaceAll(",","")),setCustomExpensePayer("seller")):q.checked?(t="sales-with-cash",ye.transactionType="Sale/Cash",ye.salesAmount=Number(L.value.replaceAll(",","")),ye.loanAmount=0,setCustomExpensePayer("seller")):B.checked&&(t="refinance",ye.transactionType="Refinance",ye.salesAmount=0,ye.loanAmount=Number(I.value.replaceAll(",","")),setCustomExpensePayer("owner")),ye.effectiveDate=new Date(Date.now()-60*(new Date).getTimezoneOffset()*1e3).toISOString().substring(0,10),v(ye),X?(n(),p(t)):(f("enable"),U.classList.remove("form--disabled"),r(),document.querySelector(".add-custom-expense--disabled").classList.remove("add-custom-expense--disabled"),X=!0),calculateAllCosts()}),E()});var addCustomExpenseBtn=document.querySelector(".add-custom-expense"),customExpenseForm=document.querySelector(".custom-expense-form"),customExpenseTitle=document.querySelector("#additional-expense-name"),customExpenseValue=document.querySelector("#additional-expense-value"),paidByRadioBtns=document.querySelectorAll(".paid-by__radio-button"),deleteExpenseBtn=document.querySelector(".delete-custom-expense"),customCostsResults=document.querySelector(".custom-costs"),saveExpenseBtn=document.querySelector(".save-custom-expense"),cancelExpenseBtn=document.querySelector(".cancel-custom-expense"),updateExpenseBtn=document.querySelector(".update-custom-expense"),customCostsControlsContainer=(deleteExpenseBtn=document.querySelector(".delete-custom-expense"),document.querySelector(".custom-expenses-form-control")),customCostsControlOutput=document.querySelector(".custom-costs-control-wrapper"),customExpenseItems=[],key=1;customExpenseTitle.addEventListener("blur",function(e){var t=e.target.value,n=e.target.closest(".fee-calculator__input-container"),o=n.querySelector(".fee-calculator__input-label"),s=n.querySelector(".fee-calculator__input"),r=n.querySelector(".form-error");""===t?(o.style.color="#ED5564",s.style.borderColor="#ED5564",r.style.display="block"):(o.style.color="#858585",s.style.borderColor="#A2A2A2",r.style.display="none")}),addCustomExpenseBtn.addEventListener("click",function(){customExpenseForm.style.display="block"}),deleteExpenseBtn.addEventListener("click",function(e){e.preventDefault();var t=customExpenseForm.dataset.key;deleteCustomeExpense(t),customExpenseTitle.value="",customExpenseValue.value="",customExpenseForm.style.display="none",calculateAllCosts()}),cancelExpenseBtn.addEventListener("click",function(e){customExpenseTitle.value="",customExpenseValue.value="",customExpenseForm.style.display="none",customExpenseForm.classList.remove("update-form")}),updateExpenseBtn.addEventListener("click",function(e){e.preventDefault();var t="";for(var n in paidByRadioBtns.forEach(function(e){e.checked&&(t=e.value)}),customExpenseItems)if(customExpenseItems[n].keyId==customExpenseForm.dataset.key){customExpenseItems[n].feeDescription=customExpenseTitle.value,"paid-by-seller"===t?(customExpenseItems[n].paidBySeller=Number(customExpenseValue.value.replaceAll(",","")),customExpenseItems[n].paidByBuyer=""):"paid-by-buyer"===t?(customExpenseItems[n].paidByBuyer=Number(customExpenseValue.value.replaceAll(",","")),customExpenseItems[n].paidBySeller=""):"paid-by-owner"===t&&(customExpenseItems[n].paidByOwner=Number(customExpenseValue.value.replaceAll(",",""))),customExpenseItems[n].paidBy=t;break}customExpenseTitle.value="",customExpenseValue.value="",renderCustomExpenses(customExpenseItems),renderCustomExpenseControl(customExpenseItems),customExpenseForm.style.display="none",customExpenseForm.classList.remove("update-form"),calculateAllCosts()}),saveExpenseBtn.addEventListener("click",function(e){e.preventDefault();var t="";paidByRadioBtns.forEach(function(e){e.checked&&(t=e.value)}),""!==customExpenseTitle.value&&""!==customExpenseValue.value&&""!==t&&("paid-by-seller"===t?customExpenseItems.push({keyId:`costId-${key}`,feeDescription:customExpenseTitle.value,paidBySeller:Number(customExpenseValue.value.replaceAll(",","")),targetClass:".custom-costs",paidBy:t}):"paid-by-buyer"===t?customExpenseItems.push({keyId:`costId-${key}`,feeDescription:customExpenseTitle.value,paidByBuyer:Number(customExpenseValue.value.replaceAll(",","")),targetClass:".custom-costs",paidBy:t}):"paid-by-owner"===t&&customExpenseItems.push({keyId:`costId-${key}`,feeDescription:customExpenseTitle.value,paidByOwner:Number(customExpenseValue.value.replaceAll(",","")),targetClass:".custom-costs",paidBy:t}),key++,renderCustomExpenses(customExpenseItems),renderCustomExpenseControl(customExpenseItems),customExpenseTitle.value="",customExpenseValue.value="",customExpenseForm.style.display="none",calculateAllCosts())});var totalSellerCostsEl=document.querySelector(".total-seller-costs"),totalBuyerCostsEl=document.querySelector(".total-buyer-costs"),totalOwnerCostsEl=document.querySelector(".total-owner-costs"),netSellerProceedsEl=document.querySelector(".net-seller-proceeds"),allCostEls=document.querySelectorAll(".cost-group__cost-wrapper");