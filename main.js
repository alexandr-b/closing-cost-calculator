window.addEventListener("load",(function(){var api=/webflow/i.test(window.location.hostname)?"https://fee-calculator-service.development.endpointclosing.com":"https://fee-calculator-service.endpointclosing.com",e=document.querySelector(".transaction-type--container"),a=document.querySelector("#sales-with-mortgage"),r=document.querySelector("#sales-with-cash"),y=document.querySelector("#refinance"),c=(document.querySelector("#property-address"),document.querySelector("#sale-price")),l=document.querySelector("#loan-amount"),i=document.querySelector("#loan-percentage"),u=document.querySelector(".calculate-fees"),s=document.querySelectorAll("#property-form input[type=text]:not(#property-address)"),d=document.querySelectorAll(".form--disabled"),m=document.querySelectorAll(".number-input"),p=document.querySelector(".additional-expense-form"),f=document.querySelectorAll(".hide-for-cash"),g=document.querySelectorAll(".hide-for-cash-form"),v=document.querySelectorAll(".hide-for-refinance"),E=document.querySelectorAll(".hide-for-refinance-form"),S=document.querySelectorAll(".buyer"),x=document.querySelectorAll(".seller"),b=document.querySelectorAll(".owner"),h=document.querySelector(".custom-expenses-form-control"),C=document.querySelectorAll(".base-input"),w=document.querySelectorAll(".disabled-text"),_=!1,A=!1,D=document.querySelectorAll(".api-fetched-items"),dl=document.querySelector(".download-pdf");function q(){C.forEach((function(e){e.style.display="flex"}))}function B(){f.forEach((function(e){e.style.display="flex"})),v.forEach((function(e){e.style.display="flex"})),S.forEach((function(e){e.style.display="flex"})),x.forEach((function(e){e.style.display="flex"})),b.forEach((function(e){e.style.display="none"}))}function da(e){e&&e.classList.remove("download-pdf-active")}function ac(e){e&&e.classList.add("download-pdf-active")}function fn(e){return`${e.toLocaleDateString().replace(/[\/\.]/g,"-")}_${e.toLocaleTimeString().replace(/:/g,"-").replace(/[\s\.]/g,"")}`}da(dl);var k=document.querySelector(".loading-spinner__container"),L=document.querySelectorAll(".cost-data__animation-container"),I=document.querySelectorAll(".cost-data-template"),N=document.querySelector(".additional-expense__wrapper"),F=document.querySelector(".net-proceeds__wrapper"),T=document.querySelectorAll(".total-cost");function $(){k.style.display="none",L.forEach((function(e){e.style.opacity="0",setTimeout((function(){e.style.display="none",e.style.opacity="1"}),800)})),T.forEach((function(e){e.style.opacity="1"})),I.forEach((function(e){e.style.display="none"})),N.style.opacity="1",F.style.opacity="1"}function V(e){"sales-with-mortgage"===e?(B(),h.classList.remove("for-owner"),renderCustomExpenses(customExpenseItems=[]),renderCustomExpenseControl(customExpenseItems)):"sales-with-cash"===e?(B(),f.forEach((function(e){e.style.display="none"})),h.classList.remove("for-owner"),renderCustomExpenses(customExpenseItems=[]),renderCustomExpenseControl(customExpenseItems)):"refinance"===e&&(B(),v.forEach((function(e){e.style.display="none"})),x.forEach((function(e){e.style.display="none"})),S.forEach((function(e){e.style.display="none"})),b.forEach((function(e){e.style.display="flex"})),h.classList.add("for-owner"),renderCustomExpenses(customExpenseItems=[]),renderCustomExpenseControl(customExpenseItems))}function O(){var e=c.value.replaceAll(",",""),t=l.value.replaceAll(",",""),o=i.value.replaceAll(",","");a.checked?_&&0<Number(e)&&0<Number(t)&&Number(t)<=Number(e)&&0<=Number(o)&&Number(o)<=100?u.disabled=!1:u.disabled=!0:r.checked?_&&0<Number(e)?u.disabled=!1:u.disabled=!0:y.checked&&(_&&0<Number(t)?u.disabled=!1:u.disabled=!0)}function U(t){d.forEach((function(e){e.querySelectorAll("input").forEach((function(e){e.disabled="enable"!==t}))}))}m.forEach((function(e){e.addEventListener("keyup",(function(e){var t=e.target.value.replaceAll(",","");e.preventDefault(),2<t.length&&(e.target.id.includes("percentage")?e.target.value=Number(t).toLocaleString("en-US",{maximumFractionDigits:2,minimumFractionDigits:2}):e.target.value=Number(t).toLocaleString("en-US",{maximumFractionDigits:0,minimumFractionDigits:0}))}))})),e.addEventListener("change",(function(e){e=e.target,A?"sales-with-mortgage"===e.id?q():"sales-with-cash"===e.id?(q(),g.forEach((function(e){e.style.display="none"}))):"refinance"===e.id&&(q(),E.forEach((function(e){e.style.display="none"}))):V(e.id),G&&G.street1&&G.city&&G.state&&G.zipCode&&("sales-with-mortgage"===e.id?G.transactionType="Sale w/ Mortgage":"sales-with-cash"===e.id?G.transactionType="Sale/Cash":"refinance"===e.id&&(G.transactionType="Refinance"),(e={}).street1=G.street1,e.street2=G.street2,e.city=G.city,e.county=G.county,e.state=G.state,e.zipCode=G.zipcode,e.transactionType=G.transactionType,"Alameda"===G.county||"Calaveras"===G.county||"Contra Costa"===G.county||"El Dorado"===G.county||"Fresno"===G.county||"Marin"===G.county||"Merced"===G.county||"Monterey"===G.county||"Placer"===G.county||"Sacramento"===G.county||"San Francisco"===G.county||"San Joaquin"===G.county||"San Mateo"===G.county||"Santa Clara"===G.county||"Santa Cruz"===G.county||"Shasta"===G.county||"Solano"===G.county||"Sonoma"===G.county||"Yuba"===G.county||"Napa"===G.county||"Butte"===G.county||"Glenn"===G.county||"Modoc"===G.county||"Mono"===G.county||"Nevada"===G.county||"Tehama"===G.county||"Tulare"===G.county||"Tuolumne"===G.county?te():W(e))})),s.forEach((function(e){e.addEventListener("keyup",(function(e){O()}))})),document.querySelector("#sales-with-mortgage").checked=!0,u.disabled=!0,U("disable"),m.forEach((function(e){e.addEventListener("keyup",(function(e){var t,o,n=e.target.value.replaceAll(",",""),e;(e=e.target.id).includes("amount")?(t=e.replace("amount","percentage"),(o=document.querySelector(`#${t}`))&&(o.value=Number(n/c.value.replaceAll(",","")*100).toLocaleString("en-US",{maximumFractionDigits:2,minimumFractionDigits:2}))):e.includes("percentage")&&(t=e.replace("percentage","amount"),(o=document.querySelector(`#${t}`))&&(o.value=Number(c.value.replaceAll(",","")*n/100).toLocaleString("en-US",{maximumFractionDigits:0,minimumFractionDigits:0})))}))})),m.forEach((function(e){e.addEventListener("keypress",(function(e){var t=e.target.value;(e.which<48||57<e.which)&&("."!==e.key||t.includes("."))&&e.preventDefault()}))})),document.querySelectorAll("input[type=text]").forEach((function(e){e.addEventListener("focus",(function(e){e.target.classList.add("in-focus")})),e.addEventListener("blur",(function(e){e.target.classList.remove("in-focus")}))}));var P=document.querySelectorAll(".input-amount");c.addEventListener("keyup",(function(e){var o=Number(e.target.value.replaceAll(",",""));P.forEach((function(e){var t;0<Number(e.value.replaceAll(",",""))&&(t=document.querySelector(`#${e.id.replace("amount","percentage")}`))&&(t.value=(Number(e.value.replaceAll(",",""))/o*100).toLocaleString("en-US",{maximumFractionDigits:0,minimumFractionDigits:0}))}))})),m.forEach((function(e){e.addEventListener("keyup",(function(e){var t=e.target.value,o,n=(o=e.target.closest(".fee-calculator__input-container")).querySelector(".fee-calculator__input-label"),e=o.querySelectorAll(".fee-calculator__input"),o=o.querySelector(".form-error");""===t?(n.style.color="#ED5564",e.forEach((function(e){e.style.borderColor="#ED5564"})),o.style.display="block"):(n.style.color="#858585",e.forEach((function(e){e.style.borderColor="#A2A2A2"})),o.style.display="none")}))})),m.forEach((function(e){e.addEventListener("paste",(function(e){var t=(e.clipboardData||window.clipboardData).getData("text");if(isNaN(Number(t)))e.preventDefault();else{if(!t.includes("-"))return!0;e.preventDefault(),e.target.value=t.replace("-","")}}))}));var s=document.querySelectorAll(".additional-expense-form input:not(.closing-date)"),z=[];s.forEach((function(e){e.addEventListener("keyup",(function(e){targetId=e.target.id,targetId.includes("percentage")&&(targetId=targetId.replace("percentage","amount")),targetValue=document.querySelector(`#${targetId}`).value.replaceAll(",",""),e=document.querySelector(`.${targetId} .seller-cost`),0<targetValue&&Number(targetValue)<Number(c.value.replaceAll(",",""))?e.textContent=Number(targetValue).toLocaleString("en-US",{maximumFractionDigits:0,minimumFractionDigits:0}):e.textContent="0",calculateAllCosts()}))}));var M=!1,R=!1,H=!1;s.forEach((function(e){e.addEventListener("blur",(function(e){if(targetId=e.target.id,targetId.includes("percentage")&&(targetId=targetId.replace("percentage","amount")),targetValue=document.querySelector(`#${targetId}`).value.replaceAll(",",""),targetId.includes("listing"))if(M)if(0===Number(targetValue))z=z.filter((function(e){return"Estimated Listing Agent Commissions"!==e.feeDescription})),M=!1;else for(var t in z)"Estimated Listing Agent Commissions"===z[t].feeDescription&&(z[t].paidBySeller=Number(targetValue));else 0<Number(targetValue)&&(z.push({feeDescription:"Estimated Listing Agent Commissions",paidBySeller:Number(targetValue)}),M=!0);else if(targetId.includes("selling"))if(R)if(0===Number(targetValue))z=z.filter((function(e){return"Estimated Selling Agent Commissions"!==e.feeDescription})),R=!1;else for(var t in z)"Estimated Selling Agent Commissions"===z[t].feeDescription&&(z[t].paidBySeller=Number(targetValue));else 0<Number(targetValue)&&(z.push({feeDescription:"Estimated Selling Agent Commissions",paidBySeller:Number(targetValue)}),R=!0);else if(targetId.includes("current"))if(H)if(0===Number(targetValue))z=z.filter((function(e){return"Current Loan Payoff"!==e.feeDescription})),H=!1;else for(var t in z)"Current Loan Payoff"===z[t].feeDescription&&(z[t].paidBySeller=Number(targetValue));else 0<Number(targetValue)&&(z.push({feeDescription:"Current Loan Payoff",paidBySeller:Number(targetValue)}),H=!0)}))}));var Y=document.querySelector(".closing-date");Y.addEventListener("blur",(function(e){var t=e.target.value,o,e=(o=e.target.closest(".fee-calculator__input-container")).querySelector(".fee-calculator__input-label"),o=o.querySelector(".form-error");""===t?(e.style.color="#ED5564",Y.style.borderColor="#ED5564",o.style.display="block"):(e.style.color="#858585",Y.style.borderColor="#A2A2A2",o.style.display="none")}));var j=document.querySelector(".google-location-info"),G={},K={};function W(e){var t=api+"/validate-address",o=new Headers;o.append("Content-Type","application/json"),o.append("X-API-KEY","BdbtnilW4WHxtYLHq5zgUn21YI4hyNzGShfVPwU6kd22cKDKygRdyvLarwGkSR4VTeqmPATvaou"),e={method:"POST",headers:o,body:JSON.stringify(e)},e=new Request(t,e),fetch(e).then(e=>e.json()).then(e=>{(K=e).statusCode?te(K.message):(ee.style.display="none",Q.style.borderColor="#A2A2A2",Z.style.color="#858585",_=!0,O())})}function J(e){bUrl=api+"/rates";var t=new Headers;t.append("Content-Type","application/json"),t.append("X-API-KEY","BdbtnilW4WHxtYLHq5zgUn21YI4hyNzGShfVPwU6kd22cKDKygRdyvLarwGkSR4VTeqmPATvaou"),e={method:"POST",headers:t,body:JSON.stringify(e)},da(dl),k.style.display="flex",L.forEach((function(e){e.style.display="block"})),I.forEach((function(e){e.style.display="block",e.style.opacity="0",e.style.pointerEvents="none"})),T.forEach((function(e){e.style.opacity="0"})),N.style.opacity="0",F.style.opacity="0",e=new Request(bUrl,e),fetch(e).then(e=>{if(e.ok)return e.json();throw new Error("")}).then(e=>{K=e,function(){var e="",t="",o=0,n=0,s=0,a=0;for(var[r,c]of Object.entries(K))for(var[l,i]of("Owner's Title Insurance"===r?e=".owners-title-insurance":"Lender's Title Insurance"===r?e=".lenders-title-insurance":"Taxes and other Government Fees Section"===r?e=".taxes-government-fees":"Settlement/Escrow"===r&&(e=".settlement-escrow"),Object.entries(c)))for(var[u,d]of(t=i.feeDescription,Object.entries(i)))if("payments"==u){for(var[m,p]of Object.entries(d))"Seller"==p.feePaidBy?o=p.feeAmount:y.checked&&"Buyer"==p.feePaidBy?s=p.feeAmount:"Buyer"==p.feePaidBy&&(n=p.feeAmount);renderExpense({targetClass:e,feeDescription:t,paidBySeller:o,paidByBuyer:n,paidByOwner:s,keyId:a}),s=n=o=0,a++}D.forEach((function(e){e.querySelectorAll(".cost-group__cost").length?e.closest(".cost-group__wrapper").style.display="flex":e.closest(".cost-group__wrapper").style.display="none"})),calculateAllCosts()}(),ne.style.display="none",ac(dl),$()}).catch(e=>{ne.style.display="flex",$()})}let X;var Z=document.querySelector(".property-label"),Q=document.querySelector("#property-address"),ee=document.querySelector(".property-error");function te(e){Q.style.borderColor="#ED5564",Z.style.color="#ED5564",ee.style.display="block",ee.innerHTML=e||'Sorry, Endpoint is only available in these <a class="property-error-link" href="/licenses#counties">select locations</a>',_=!1,O()}function oe(){G={};var e,t,o,n,s=X.getPlace();s.address_components?(j.innerHTML=s.adr_address,e=j.querySelector(".street-address"),t=j.querySelector(".locality"),o=j.querySelector(".region"),n=j.querySelector(".postal-code"),G.street1=e?e.textContent:"",G.street2="",G.city=t?t.textContent:"",G.state=o?o.textContent:"",G.zipCode=n?n.textContent:"",(s=s.address_components.filter(e=>e.long_name.includes("County"))).length?G.county=s[0].long_name.replace(" County",""):G.county="",a.checked?G.transactionType="Sale w/ Mortgage":r.checked?G.transactionType="Sale/Cash":y.checked&&(G.transactionType="Refinance"),Q.blur(),""!==G.street1&&""!==G.city&&""!==G.state&&""!==G.zipCode?"Alameda"===G.county||"Calaveras"===G.county||"Contra Costa"===G.county||"El Dorado"===G.county||"Fresno"===G.county||"Marin"===G.county||"Merced"===G.county||"Monterey"===G.county||"Placer"===G.county||"Sacramento"===G.county||"San Francisco"===G.county||"San Joaquin"===G.county||"San Mateo"===G.county||"Santa Clara"===G.county||"Santa Cruz"===G.county||"Shasta"===G.county||"Solano"===G.county||"Sonoma"===G.county||"Yuba"===G.county||"Napa"===G.county||"Butte"===G.county||"Glenn"===G.county||"Modoc"===G.county||"Mono"===G.county||"Nevada"===G.county||"Tehama"===G.county||"Tulare"===G.county||"Tuolumne"===G.county?te():W(G):te("We couldn't find that address. Please enter a street address, city, and state.")):(te(),O())}Q.addEventListener("change",(function(){O()})),Q.addEventListener("blur",(function(e){""===e.target.value&&te("Please enter an address"),O()})),Q.addEventListener("keypress",(function(e){13==e.which&&0<document.querySelectorAll(".pac-container .pac-item").length&&(google.maps.event.trigger(e.target,"keydown",{keyCode:40,hasRanOnce:!0}),google.maps.event.trigger(e.target,"keydown",{keyCode:13,hasRanOnce:!0}))}));var ne=document.querySelector(".api-call-error");document.querySelector(".api-call-error__close").addEventListener("click",(function(e){ne.style.display="none"})),u.addEventListener("click",(function(e){e.preventDefault(),e="",a.checked?(e="sales-with-mortgage",G.transactionType="Sale w/ Mortgage",G.salesAmount=Number(c.value.replaceAll(",","")),G.loanAmount=Number(l.value.replaceAll(",","")),setCustomExpensePayer("seller")):r.checked?(e="sales-with-cash",G.transactionType="Sale/Cash",G.salesAmount=Number(c.value.replaceAll(",","")),G.loanAmount=0,setCustomExpensePayer("seller")):y.checked&&(e="refinance",G.transactionType="Refinance",G.salesAmount=0,G.loanAmount=Number(l.value.replaceAll(",","")),setCustomExpensePayer("owner")),G.effectiveDate=new Date(Date.now()-60*(new Date).getTimezoneOffset()*1e3).toISOString().substring(0,10),J(G),A?(D.forEach((function(e){e.innerHTML="",e.closest(".cost-group__wrapper").style.display="block"})),V(e)):(U("enable"),p.classList.remove("form--disabled"),w.forEach((function(e){e.classList.remove("disabled-text")})),document.querySelector(".add-custom-expense--disabled").classList.remove("add-custom-expense--disabled"),A=!0),calculateAllCosts()})),X=new google.maps.places.Autocomplete(document.getElementById("property-address"),{types:["geocode"],componentRestrictions:{country:["US"]},fields:["adr_address","address_components"]}),X.addListener("place_changed",oe),dl.addEventListener("click",(function onClick(){if(dl.classList.contains("download-pdf-active")){for(var clone=document.querySelector(".fee-calculator__results-bottom").cloneNode(!0),disclaimer=document.querySelector(".disclaimer-text").cloneNode(!0),i=0;i<disclaimer.children.length;i++){var child=disclaimer.children[i];if("A"===child.tagName){for(var where in child.dataset)"beforebegin"!==where&&"afterbegin"!==where&&"beforeend"!==where&&"afterend"!==where||child.insertAdjacentText(where,child.dataset[where]);child.innerText=child.href}}clone.style.padding="0",clone.appendChild(disclaimer),new window.jspdf.jsPDF({unit:"px",format:"a4"}).html(clone,{callback(pdf){pdf.save(`closing-cost_${fn(new Date)}.pdf`)},margin:[32,48,32,48],x:0,y:0,width:380,windowWidth:880})}}))}));var addCustomExpenseBtn=document.querySelector(".add-custom-expense"),customExpenseForm=document.querySelector(".custom-expense-form"),customExpenseTitle=document.querySelector("#additional-expense-name"),customExpenseValue=document.querySelector("#additional-expense-value"),paidByRadioBtns=document.querySelectorAll(".paid-by__radio-button"),deleteExpenseBtn=document.querySelector(".delete-custom-expense"),customCostsResults=document.querySelector(".custom-costs"),saveExpenseBtn=document.querySelector(".save-custom-expense"),cancelExpenseBtn=document.querySelector(".cancel-custom-expense"),updateExpenseBtn=document.querySelector(".update-custom-expense"),deleteExpenseBtn=document.querySelector(".delete-custom-expense"),customCostsControlsContainer=document.querySelector(".custom-expenses-form-control"),customCostsControlOutput=document.querySelector(".custom-costs-control-wrapper"),customExpenseItems=[],key=1;function setCustomExpensePayer(t){paidByRadioBtns.forEach((function(e){e.id.includes(t)&&(e.checked=!0)}))}function editCustomeExpense(t){var o=customExpenseItems.filter((function(e){return e.keyId===t}));customExpenseTitle.value=o[0].feeDescription,o[0].paidBySeller?customExpenseValue.value=o[0].paidBySeller.toLocaleString("en-US",{maximumFractionDigits:0,minimumFractionDigits:0}):o[0].paidByBuyer?customExpenseValue.value=o[0].paidByBuyer.toLocaleString("en-US",{maximumFractionDigits:0,minimumFractionDigits:0}):o[0].paidByOwner&&(customExpenseValue.value=o[0].paidByOwner.toLocaleString("en-US",{maximumFractionDigits:0,minimumFractionDigits:0})),paidByRadioBtns.forEach((function(e){e.id===o[0].paidBy&&(e.checked=!0)})),customExpenseForm.classList.add("update-form"),customExpenseForm.setAttribute("data-key",o[0].keyId),customExpenseForm.style.display="block",calculateAllCosts()}function deleteCustomeExpense(t){renderCustomExpenses(customExpenseItems=customExpenseItems.filter((function(e){return e.keyId!==t}))),renderCustomExpenseControl(customExpenseItems),calculateAllCosts()}function renderExpense(e){var t="";e.paidBySeller&&e.paidByBuyer?t=`<div class="cost-group__cost ${e.keyId}">\n<div class="cost-group__title-wrapper">\n<div class="cost-group__cost-title">${e.feeDescription}</div>\n</div>\n<div class="cost-group__cost-wrapper seller">\n<div class="cost-group__cost-amount seller-cost-wrapper">$<span class="seller-cost">${e.paidBySeller.toLocaleString("en-US",{maximumFractionDigits:0,minimumFractionDigits:0})}</span></div>\n</div>\n<div class="cost-group__cost-wrapper buyer">\n<div class="cost-group__cost-amount buyer-cost-wrapper">$<span class="buyer-cost">${e.paidByBuyer.toLocaleString("en-US",{maximumFractionDigits:0,minimumFractionDigits:0})}</span></div>\n</div>\n</div>`:e.paidBySeller?t=`<div class="cost-group__cost ${e.keyId}">\n<div class="cost-group__title-wrapper">\n<div class="cost-group__cost-title">${e.feeDescription}</div>\n</div>\n<div class="cost-group__cost-wrapper seller">\n<div class="cost-group__cost-amount seller-cost-wrapper">$<span class="seller-cost">${e.paidBySeller.toLocaleString("en-US",{maximumFractionDigits:0,minimumFractionDigits:0})}</span></div>\n</div>\n<div class="cost-group__cost-wrapper buyer">\n<div class="cost-group__cost-amount buyer-cost-wrapper">$0</div>\n</div>\n</div>`:e.paidByBuyer?t=`<div class="cost-group__cost ${e.keyId}">\n<div class="cost-group__title-wrapper">\n<div class="cost-group__cost-title">${e.feeDescription}</div>\n</div>\n<div class="cost-group__cost-wrapper seller">\n<div class="cost-group__cost-amount seller-cost-wrapper">$0</div>\n</div>\n<div class="cost-group__cost-wrapper buyer">\n<div class="cost-group__cost-amount buyer-cost-wrapper">$<span class="buyer-cost">${e.paidByBuyer.toLocaleString("en-US",{maximumFractionDigits:0,minimumFractionDigits:0})}</span></div>\n</div>\n</div>`:e.paidByOwner&&(t=`<div class="cost-group__cost ${e.keyId}">\n<div class="cost-group__title-wrapper">\n<div class="cost-group__cost-title">${e.feeDescription}</div>\n</div>            \n<div class="cost-group__cost-wrapper owner block">\n<div class="cost-group__cost-amount owner-cost-wrapper">$<span class="owner-cost">${e.paidByOwner.toLocaleString("en-US",{maximumFractionDigits:0,minimumFractionDigits:0})}</span></div>\n</div>\n</div>`);var o=document.querySelector(e.targetClass),e;(e=document.createElement("div")).innerHTML=t,o.appendChild(e)}function renderCustomExpenses(e){customCostsResults.innerHTML="",e.forEach((function(e){renderExpense(e)}))}function renderCustomExpenseControl(e){customCostsControlOutput.innerHTML="",0<e.length?customCostsControlsContainer.style.display="block":0===e.length&&(customCostsControlsContainer.style.display="none"),e.forEach((function(e){var t="";e.paidBySeller?t=`<div class="custom-expenses-form-control-item" id="${e.keyId}">\n<div class="custom-expenses-title">${e.feeDescription}</div>\n<div class="custom-expenses-amount">$${e.paidBySeller.toLocaleString("en-US",{maximumFractionDigits:0,minimumFractionDigits:0})}</div>\n<div class="custom-expenses-amount">--</div>\n<div class="aligner">\n<a onclick="editCustomeExpense('${e.keyId}')" class="custom-expenses-edit w-inline-block"><img src="https://uploads-ssl.webflow.com/60cbe5ccea9fa161ea3e1b9b/60f005acb39a8f5c266b0d65_Edit.svg" loading="lazy" alt="" class="edit-icon"></a>\n<a onclick="deleteCustomeExpense('${e.keyId}')" class="custom-expenses-delete w-inline-block"><img src="https://uploads-ssl.webflow.com/60cbe5ccea9fa161ea3e1b9b/60f005beb23abeee2a534b56_Delete.svg" loading="lazy" alt="" class="delete-icon"></a>\n</div>\n</div>`:e.paidByBuyer?t=`<div class="custom-expenses-form-control-item" id="${e.keyId}">\n<div class="custom-expenses-title">${e.feeDescription}</div>\n<div class="custom-expenses-amount">--</div>\n<div class="custom-expenses-amount">$${e.paidByBuyer.toLocaleString("en-US",{maximumFractionDigits:0,minimumFractionDigits:0})}</div>\n<div class="aligner">\n<a onclick="editCustomeExpense('${e.keyId}')" class="custom-expenses-edit w-inline-block"><img src="https://uploads-ssl.webflow.com/60cbe5ccea9fa161ea3e1b9b/60f005acb39a8f5c266b0d65_Edit.svg" loading="lazy" alt="" class="edit-icon"></a>\n<a onclick="deleteCustomeExpense('${e.keyId}')" class="custom-expenses-delete w-inline-block"><img src="https://uploads-ssl.webflow.com/60cbe5ccea9fa161ea3e1b9b/60f005beb23abeee2a534b56_Delete.svg" loading="lazy" alt="" class="delete-icon"></a>\n</div>\n</div>`:e.paidByOwner&&(t=`<div class="custom-expenses-form-control-item" id="${e.keyId}">\n<div class="custom-expenses-title">${e.feeDescription}</div>\n<div class="custom-expenses-amount">$${e.paidByOwner.toLocaleString("en-US",{maximumFractionDigits:0,minimumFractionDigits:0})}</div>\n<div class="aligner">\n<a onclick="editCustomeExpense('${e.keyId}')" class="custom-expenses-edit w-inline-block"><img src="https://uploads-ssl.webflow.com/60cbe5ccea9fa161ea3e1b9b/60f005acb39a8f5c266b0d65_Edit.svg" loading="lazy" alt="" class="edit-icon"></a>\n<a onclick="deleteCustomeExpense('${e.keyId}')" class="custom-expenses-delete w-inline-block"><img src="https://uploads-ssl.webflow.com/60cbe5ccea9fa161ea3e1b9b/60f005beb23abeee2a534b56_Delete.svg" loading="lazy" alt="" class="delete-icon"></a>\n</div>\n</div>`),(e=document.createElement("div")).innerHTML=t,customCostsControlOutput.appendChild(e)}))}customExpenseTitle.addEventListener("blur",(function(e){var t=e.target.value,o,n=(o=e.target.closest(".fee-calculator__input-container")).querySelector(".fee-calculator__input-label"),e=o.querySelector(".fee-calculator__input"),o=o.querySelector(".form-error");""===t?(n.style.color="#ED5564",e.style.borderColor="#ED5564",o.style.display="block"):(n.style.color="#858585",e.style.borderColor="#A2A2A2",o.style.display="none")})),addCustomExpenseBtn.addEventListener("click",(function(){customExpenseForm.style.display="block"})),deleteExpenseBtn.addEventListener("click",(function(e){e.preventDefault(),deleteCustomeExpense(customExpenseForm.dataset.key),customExpenseTitle.value="",customExpenseValue.value="",customExpenseForm.style.display="none",calculateAllCosts()})),cancelExpenseBtn.addEventListener("click",(function(e){customExpenseTitle.value="",customExpenseValue.value="",customExpenseForm.style.display="none",customExpenseForm.classList.remove("update-form")})),updateExpenseBtn.addEventListener("click",(function(e){e.preventDefault();var t,o="";for(t in paidByRadioBtns.forEach((function(e){e.checked&&(o=e.value)})),customExpenseItems)if(customExpenseItems[t].keyId==customExpenseForm.dataset.key){customExpenseItems[t].feeDescription=customExpenseTitle.value,"paid-by-seller"===o?(customExpenseItems[t].paidBySeller=Number(customExpenseValue.value.replaceAll(",","")),customExpenseItems[t].paidByBuyer=""):"paid-by-buyer"===o?(customExpenseItems[t].paidByBuyer=Number(customExpenseValue.value.replaceAll(",","")),customExpenseItems[t].paidBySeller=""):"paid-by-owner"===o&&(customExpenseItems[t].paidByOwner=Number(customExpenseValue.value.replaceAll(",",""))),customExpenseItems[t].paidBy=o;break}customExpenseTitle.value="",customExpenseValue.value="",renderCustomExpenses(customExpenseItems),renderCustomExpenseControl(customExpenseItems),customExpenseForm.style.display="none",customExpenseForm.classList.remove("update-form"),calculateAllCosts()})),saveExpenseBtn.addEventListener("click",(function(e){e.preventDefault();var t="";paidByRadioBtns.forEach((function(e){e.checked&&(t=e.value)})),""!==customExpenseTitle.value&&""!==customExpenseValue.value&&""!==t&&("paid-by-seller"===t?customExpenseItems.push({keyId:`costId-${key}`,feeDescription:customExpenseTitle.value,paidBySeller:Number(customExpenseValue.value.replaceAll(",","")),targetClass:".custom-costs",paidBy:t}):"paid-by-buyer"===t?customExpenseItems.push({keyId:`costId-${key}`,feeDescription:customExpenseTitle.value,paidByBuyer:Number(customExpenseValue.value.replaceAll(",","")),targetClass:".custom-costs",paidBy:t}):"paid-by-owner"===t&&customExpenseItems.push({keyId:`costId-${key}`,feeDescription:customExpenseTitle.value,paidByOwner:Number(customExpenseValue.value.replaceAll(",","")),targetClass:".custom-costs",paidBy:t}),key++,renderCustomExpenses(customExpenseItems),renderCustomExpenseControl(customExpenseItems),customExpenseTitle.value="",customExpenseValue.value="",customExpenseForm.style.display="none",calculateAllCosts())}));var totalSellerCostsEl=document.querySelector(".total-seller-costs"),totalBuyerCostsEl=document.querySelector(".total-buyer-costs"),totalOwnerCostsEl=document.querySelector(".total-owner-costs"),netSellerProceedsEl=document.querySelector(".net-seller-proceeds"),allCostEls=document.querySelectorAll(".cost-group__cost-wrapper");function calculateAllCosts(){var e=document.querySelectorAll(".cost-group__cost-wrapper"),n=0,s=0,a=0;e.forEach((function(e){var t=e.querySelector(".seller-cost"),o=e.querySelector(".buyer-cost"),e=e.querySelector(".owner-cost");t?isNaN(Number(t.textContent.replaceAll(",","")))||(n+=Number(t.textContent.replaceAll(",",""))):o?isNaN(Number(o.textContent.replaceAll(",","")))||(s+=Number(o.textContent.replaceAll(",",""))):e&&(isNaN(Number(e.textContent.replaceAll(",","")))||(a+=Number(e.textContent.replaceAll(",",""))))})),totalSellerCostsEl.textContent=n.toLocaleString("en-US",{maximumFractionDigits:0,minimumFractionDigits:0}),totalBuyerCostsEl.textContent=s.toLocaleString("en-US",{maximumFractionDigits:0,minimumFractionDigits:0}),totalOwnerCostsEl.textContent=a.toLocaleString("en-US",{maximumFractionDigits:0,minimumFractionDigits:0}),e=Number(document.querySelector("#sale-price").value.replaceAll(",",""))-n,netSellerProceedsEl.textContent=e.toLocaleString("en-US",{maximumFractionDigits:0,minimumFractionDigits:0})}